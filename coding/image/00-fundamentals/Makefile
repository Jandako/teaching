default:	all

# Rules

## .fig -> .pdf
%.svg: %.fig
	fig2dev -L pstex $*.fig > tmp.eps
	fig2dev -L pstex_t -f sf -p tmp.eps $< > tmp.tex
	latex << EOF \
\\documentclass{article} \
\\usepackage{epsfig} \
\\usepackage{amsmath} \
\\usepackage{amssymb} \
\\usepackage{color} \
\\begin{document} \
\\pagestyle{empty} \
\\thispagestyle{empty} \
\\resizebox{1.0\\textwidth}{!}{\\input{tmp}} \
\\end{document} \
EOF
	mv article.dvi $*.dvi
	dvips $*.dvi -o $*.ps
	ps2eps --loose < $*.ps > $*.eps
	epstopdf $*.eps
	rm $*.ps
	rm tmp.eps
	rm $*.dvi
	rm $*.eps
	rm tmp.tex
	rm article.aux
	rm article.log
	pdf2svg $*.pdf 
# Original files
FIGs := $(wildcard *.fig)

# Temporal files
TMPs += $(FIGs:%.fig=%.svg)	# .pdf files generated by .fig files

all:	$(TMPs)

clean:
	rm -f $(TMPs)

info:
	@echo $(TMPs)

